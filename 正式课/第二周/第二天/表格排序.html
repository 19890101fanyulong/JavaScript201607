<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>表格排序</title>
    <style>
        *{ margin: 0; padding: 0; }
        .tabBox{ width: 500px; padding: 15px; margin: 30px auto; border: 3px solid lightcoral; font-family: "microsoft yahei"; border-radius: 3px; }
        .tabBox table thead{ background: lightcoral; -webkit-user-select: none; }
        .tabBox table thead th,.tabBox table tbody td{ width: 100px; height: 40px; line-height: 40px; text-align: center; font-size: 20px;  }
        .cursor{  cursor: pointer; }
    </style>
</head>
<body>
<div class="tabBox" id="tabBox">
    <table  class="tab" cellspacing="0" cellpadding="0">
        <thead>
        <tr>
            <th>姓名</th>
            <th>姓别</th>
            <th class="cursor">年龄</th>
            <th>身高(cm)</th>
            <th>体重(kg)</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>田喜</td>
            <td>男</td>
            <td>30</td>
            <td>175</td>
            <td>90</td>
        </tr>
        <tr>
            <td>张振</td>
            <td>男</td>
            <td>25</td>
            <td>175</td>
            <td>90</td>
        </tr>
        <tr>
            <td>张振</td>
            <td>男</td>
            <td>30</td>
            <td>175</td>
            <td>92</td>
        </tr>
        </tbody>
    </table>

</div>
</body>
</html>
<script src="../utils.js"></script>
<script>
    //先把可能要操作到的元素获取到
    var tabBox = document.getElementById('tabBox'); //最大的范围，再获取元素就在这个范围内就可以了
    var table = tabBox.getElementsByTagName('table')[0];
    var thead = table.tHead; //获取表格的表头可以通过table.tHead属性就可以
    var theadRow = thead.rows[0]; //rows就是获取行，表头下的所有的行中的第一行
    var theadCells = theadRow.cells; //获取表头下第一行内的所有单元格(列)
    var tbody = table.tBodies[0]; //获取表格的主体第一个
    var tbodyRows = tbody.rows; //获取tbody里所有的行
    //console.log(theadCells);
    //console.log(tbodyRows);

    //获取动态数据 ==> 在项目开发工程中数据一般是由后台提供,一般通过ajax获取数据
    //ajax async(异步) javascript and xml
    function getData(){
        var xhr = new XMLHttpRequest(); //ajax的第一步创建一个xhr对象，用来去获取数据
        //已经成功创建了一个数据载体

        xhr.open("get","data.txt",false);
        //通过get的方式去拿,除了get的方式还有post
        //data.txt ==> 去哪里去拿数据,这个就是接口,这个接口一般是一个url这个url是由后台提供
        //false ==> 同步还是异步  false代表的是同步(傻等)  true异步

        //在出发之前我要对任何有可能发生的状况事先约定好
        xhr.onreadystatechange = function (){
            if(xhr.readyState == 4 && xhr.status == 200){
                //这两个状态组成在一起才代表成功获取到数据
                // 404 找不到页面
                // 304   本地缓存
                // 200 成功
                // 502 服务端错误
                //console.log(xhr.responseText); //响应文本,这个属性中存放就是从接口拿回来的数据
                data = utils.jsonParse(xhr.responseText); //??
                //window.data
            }
        }
        //到现在为止xhr也没出发
        xhr.send(null);
    }
    getData();

    console.log(window.data); //我就成功拿到了数据,返回了一个数组，数组中的每一项都是一条数据 ==> 表格里有多少行和数组的长度是相等的



</script>